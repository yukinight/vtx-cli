var BMapLib=window.BMapLib=BMapLib||{};(function(){var a=BMapLib.AreaRestriction=function(){var b=this;this._isRestricted=false;this._map=null;this._bounds=null;this._mapMoveendEvent=function(i){if(b._bounds.containsBounds(b._map.getBounds())){return}var g=b._map.getBounds(),f=g.getSouthWest(),d=g.getNorthEast(),k=b._bounds.getSouthWest(),h=b._bounds.getNorthEast();var j={n:0,e:0,s:0,w:0};j.n=(d.lat<h.lat)?d.lat:h.lat;j.e=(d.lng<h.lng)?d.lng:h.lng;j.s=(f.lat<k.lat)?k.lat:f.lat;j.w=(f.lng<k.lng)?k.lng:f.lng;var c=new BMap.Point(j.w+(j.e-j.w)/2,j.s+(j.n-j.s)/2);setTimeout(function(){b._map.panTo(c,{noAnimation:"no"})},1)}};a.prototype.setBounds=function(c,b){if(!c||!b||!(b instanceof BMap.Bounds)){throw"请检查传入参数值的合法性";return false}if(this._isRestricted){this.clearBounds()}this._map=c;this._bounds=b;this._map.addEventListener("moveend",this._mapMoveendEvent);this._isRestricted=true;return true};a.prototype.clearBounds=function(){if(!this._isRestricted){return}this._map.removeEventListener("moveend",this._mapMoveendEvent);this._isRestricted=false}})();